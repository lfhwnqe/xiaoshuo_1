# 提示工程与风格规范（Prompting & Style）

目标：将“文风与风格指南”固化为可执行规范，降低跨章节风格漂移与术语不一致风险。

## 风格指南内容结构

- 叙事参数：人称（1/3）、时态（过去/现在）、语域（严肃/讽刺/幽默）
- 文体偏好：句长分布、修辞手法、比喻/意象、节奏
- 角色口吻：主角与关键角色的语气词、常用表达、禁用表达
- 术语表（Glossary）：专有名词/地名/组织/技能；英文转写或统一译名
- 反例与禁忌：不允许的转折/套路、避免信息重复、避免 OOC（角色出戏）
- 示例片段：1–2 段“样章”作为风格锚点

## 提示模板（示意）

```text
系统（System）
你是一名长期连载小说写作助手。遵循风格指南，保持角色与设定一致。

用户（User）
【任务】写作第 {chapterIndex} 章。
【上下文】{contextForChapter}
【风格指南】{styleGuide}
【章节梗概】{scenePlan}
【要求】
- 字数约 {wordCount}；
- 叙事视角：{narrativePOV}；
- 结尾留出悬念，承接下一章：{nextHookHint}

助手（Assistant）
请直接输出正文，不要解释。
```

## 质量门（评分器）

- 风格一致性评分：匹配风格规则的比例、关键指标（视角/时态/术语）
- 连贯性评分：与前情要点一致度、伏笔兑现度、角色动机合理性
- 结构评分：是否覆盖梗概事件、场景过渡与节奏

评分低于阈值时进入修订回路（调整提示/补充上下文/重写小节）。

## 提示资产与版本

- 所有模板在 `src/config/prompts/` 版本化管理；
- 在输出 Markdown 头部记录模板版本与关键参数，确保可重现。

